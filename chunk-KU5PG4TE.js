import{c as S,f as T,h as z,i as I,j as V,k as F}from"./chunk-LZAZET4J.js";import"./chunk-G7PZ5C6J.js";import"./chunk-QUJFQN2Y.js";import"./chunk-RHAEDQZT.js";import"./chunk-5XR5UZTN.js";import"./chunk-XZHOETC4.js";import"./chunk-22ALTPQP.js";import"./chunk-MPB7VSR4.js";import"./chunk-D4Y6TNMP.js";import"./chunk-T7UDCOFX.js";import"./chunk-UAYWXJ5K.js";import"./chunk-X5COL2RE.js";import"./chunk-U35OIUQD.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-LGLAKMZV.js";import"./chunk-CKP3SGE2.js";import"./chunk-XLYTOCP2.js";import{$ as w,Aa as L,C as m,E as y,N as n,O as i,P as b,V as k,W as d,aa as x,b as P,ba as _,e as C,ea as r,i as M,k as h,ra as O,t as l,u as g,va as v,wa as E}from"./chunk-ESYWPHZM.js";import"./chunk-RI2B4YIN.js";import"./chunk-EKZFFENY.js";import"./chunk-BVKPIYHI.js";import"./chunk-EGEKKRFH.js";import"./chunk-III6E2XH.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as p}from"./chunk-PM2M367S.js";var A=["emailField"],G=["passwordField"],W=(()=>{let s=class s{constructor(e,t,o){this.router=e,this.toastCtrl=t,this.loadingCtrl=o,this.email="",this.password="",console.log("LoginPage initialized")}onEmailChange(e){this.email=e.target.value,console.log("Email changed:",this.email)}onPasswordChange(e){this.password=e.target.value,console.log("Password changed:",this.password)}togglePasswordVisibility(){console.log("Toggle password clicked");let e=this.passwordField?.nativeElement;if(e){e.type=e.type==="password"?"text":"password";let t=e.parentElement?.querySelector("ion-icon");t&&t.setAttribute("name",e.type==="password"?"eye-outline":"eye-off-outline")}}showToast(e,t="danger"){return p(this,null,function*(){(yield this.toastCtrl.create({message:e,duration:2500,color:t,position:"bottom"})).present()})}handleLogin(){return p(this,null,function*(){if(console.log("Login button clicked"),console.log("Email:",this.email),console.log("Password:",this.password),!this.email||!this.password){console.log("Validation failed: empty fields"),this.showToast("Email dan password harus diisi!");return}let e=yield this.loadingCtrl.create({message:"Sedang login...",spinner:"crescent"});yield e.present();try{console.log("Attempting Firebase login..."),yield C(h,this.email,this.password),yield e.dismiss(),console.log("Login successful"),this.showToast("Login berhasil!","success"),this.router.navigateByUrl("/dashboard",{replaceUrl:!0})}catch(t){yield e.dismiss(),console.error("Login error:",t),this.showToast(this.getFirebaseErrorMessage(t.code))}})}handleGoogleLogin(){return p(this,null,function*(){console.log("Google login button clicked");let e=new P,t=yield this.loadingCtrl.create({message:"Login dengan Google...",spinner:"crescent"});yield t.present();try{console.log("Attempting Google login..."),yield M(h,e),yield t.dismiss(),console.log("Google login successful"),this.showToast("Login Google berhasil!","success"),this.router.navigateByUrl("/dashboard",{replaceUrl:!0})}catch(o){yield t.dismiss(),console.error("Google login error:",o),this.showToast(this.getFirebaseErrorMessage(o.code))}})}getFirebaseErrorMessage(e){switch(e){case"auth/invalid-email":return"Format email tidak valid.";case"auth/user-not-found":return"Akun tidak ditemukan.";case"auth/wrong-password":return"Password salah.";case"auth/popup-closed-by-user":return"Login Google dibatalkan.";default:return"Terjadi kesalahan. Coba lagi."}}};s.\u0275fac=function(t){return new(t||s)(m(v),m(V),m(I))},s.\u0275cmp=y({type:s,selectors:[["app-login"]],viewQuery:function(t,o){if(t&1&&(w(A,5),w(G,5)),t&2){let a;x(a=_())&&(o.emailField=a.first),x(a=_())&&(o.passwordField=a.first)}},decls:37,vars:0,consts:[["emailField",""],["passwordField",""],["fullscreen","",1,"login-content"],[1,"login-container"],[1,"login-box"],[1,"logo-section"],[1,"logo-icon"],[1,"app-title"],[1,"app-subtitle"],[1,"login-form"],[1,"form-group"],[1,"input-label"],["type","email","placeholder","Masukkan email Anda",1,"form-input",3,"input"],[1,"password-input-wrapper"],["type","password","placeholder","Masukkan password Anda",1,"form-input",3,"input"],["type","button",1,"toggle-password-btn",3,"click"],["name","eye-outline"],["type","button",1,"btn-login",3,"click"],[1,"divider"],["type","button",1,"btn-google",3,"click"],["name","logo-google"],[1,"register-link"],["routerLink","/register"]],template:function(t,o){if(t&1){let a=k();n(0,"ion-content",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),r(5,"\u26A1"),i(),n(6,"h1",7),r(7,"Agnivolt"),i(),n(8,"p",8),r(9,"Sistem Monitoring PLTMH Berbasis IoT"),i()(),n(10,"div",9)(11,"div",10)(12,"label",11),r(13,"Email"),i(),n(14,"input",12,0),d("input",function(f){return l(a),g(o.onEmailChange(f))}),i()(),n(16,"div",10)(17,"label",11),r(18,"Password"),i(),n(19,"div",13)(20,"input",14,1),d("input",function(f){return l(a),g(o.onPasswordChange(f))}),i(),n(22,"button",15),d("click",function(){return l(a),g(o.togglePasswordVisibility())}),b(23,"ion-icon",16),i()()(),n(24,"button",17),d("click",function(){return l(a),g(o.handleLogin())}),r(25," Masuk "),i()(),n(26,"div",18)(27,"span"),r(28,"atau"),i()(),n(29,"button",19),d("click",function(){return l(a),g(o.handleGoogleLogin())}),b(30,"ion-icon",20),n(31,"span"),r(32,"Masuk dengan Google"),i()(),n(33,"p",21),r(34," Belum punya akun? "),n(35,"a",22),r(36,"Daftar sekarang"),i()()()()()}},dependencies:[F,S,T,z,O,L,E],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_nghost-%COMP%]{display:block;height:100%}.login-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #4A90E2 0%, #3B3B98 100%);--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.login-container[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;align-items:center;justify-content:center;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;padding:30px 35px;width:100%;max-width:550px;animation:_ngcontent-%COMP%_fadeInUp .5s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.logo-icon[_ngcontent-%COMP%]{font-size:2.75rem;margin-bottom:8px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.app-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;margin-bottom:5px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.app-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#718096;line-height:1.4}.login-form[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:14px}.input-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#2d3748;margin-bottom:6px}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;font-size:.95rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;color:#2d3748;font-family:inherit;transition:all .3s ease;outline:none}.form-input[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.password-input-wrapper[_ngcontent-%COMP%]{position:relative}.toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;padding:8px;cursor:pointer;color:#718096;display:flex;align-items:center;justify-content:center;transition:color .2s ease}.toggle-password-btn[_ngcontent-%COMP%]:hover{color:#667eea}.toggle-password-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-login[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;cursor:pointer;font-family:inherit;transition:all .3s ease;box-shadow:0 4px 12px #667eea66;margin-top:8px}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.btn-login[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:16px 0;color:#a0aec0;font-size:.875rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 15px}.btn-google[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:.95rem;font-weight:600;color:#2d3748;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:10px;transition:all .3s ease}.btn-google[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.btn-google[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#ea4335}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:.9rem;color:#4a5568}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;font-weight:600;text-decoration:none;transition:color .2s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}@media (min-width: 1024px){.login-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:40px 0}.login-box[_ngcontent-%COMP%]{width:100%;max-width:900px;padding:40px 55px;border-radius:20px;background:#fffffff2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 12px 40px #0003}.logo-section[_ngcontent-%COMP%]{margin-bottom:28px}}@media (max-width: 480px){.login-box[_ngcontent-%COMP%]{padding:28px 25px}.logo-icon[_ngcontent-%COMP%]{font-size:2.75rem}.app-title[_ngcontent-%COMP%]{font-size:1.65rem}.app-subtitle[_ngcontent-%COMP%]{font-size:.8rem}}']});let u=s;return u})();export{W as LoginPage};
