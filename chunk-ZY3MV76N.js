import{c as V,f as z,h as F,i as T,j as A,k as I}from"./chunk-RT6QOCDC.js";import"./chunk-G7PZ5C6J.js";import"./chunk-QUJFQN2Y.js";import"./chunk-RHAEDQZT.js";import"./chunk-5XR5UZTN.js";import"./chunk-XZHOETC4.js";import"./chunk-22ALTPQP.js";import"./chunk-MPB7VSR4.js";import"./chunk-D4Y6TNMP.js";import"./chunk-T7UDCOFX.js";import"./chunk-UAYWXJ5K.js";import"./chunk-X5COL2RE.js";import"./chunk-U35OIUQD.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-LGLAKMZV.js";import"./chunk-CKP3SGE2.js";import"./chunk-XLYTOCP2.js";import{$ as f,Aa as S,C as u,E as M,N as n,O as o,P as _,V as O,W as d,aa as h,b as P,ba as b,d as C,ea as a,f as k,i as y,k as x,ra as v,t as s,u as l,va as E,wa as R}from"./chunk-2DC3RWUC.js";import"./chunk-RI2B4YIN.js";import"./chunk-EKZFFENY.js";import"./chunk-BVKPIYHI.js";import"./chunk-EGEKKRFH.js";import"./chunk-III6E2XH.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as m}from"./chunk-PM2M367S.js";var G=["nameField"],j=["emailField"],L=["passwordField"],$=(()=>{let g=class g{constructor(e,t,i){this.router=e,this.toastCtrl=t,this.loadingCtrl=i,this.name="",this.email="",this.password="",console.log("RegisterPage initialized")}onNameChange(e){this.name=e.target.value,console.log("Name changed:",this.name)}onEmailChange(e){this.email=e.target.value,console.log("Email changed:",this.email)}onPasswordChange(e){this.password=e.target.value,console.log("Password changed:",this.password)}togglePasswordVisibility(){console.log("Toggle password clicked");let e=this.passwordField?.nativeElement;if(e){e.type=e.type==="password"?"text":"password";let t=e.parentElement?.querySelector("ion-icon");t&&t.setAttribute("name",e.type==="password"?"eye-outline":"eye-off-outline")}}validatePassword(e){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]).{8,}$/.test(e)}showToast(e,t="danger"){return m(this,null,function*(){(yield this.toastCtrl.create({message:e,duration:2500,color:t,position:"bottom"})).present()})}handleRegister(){return m(this,null,function*(){if(console.log("Register button clicked"),console.log("Name:",this.name),console.log("Email:",this.email),console.log("Password:",this.password),!this.name||!this.email||!this.password){console.log("Validation failed: empty fields"),this.showToast("Semua kolom harus diisi!");return}if(!this.validatePassword(this.password)){console.log("Validation failed: weak password"),this.showToast("Password harus minimal 8 karakter, mengandung huruf, angka, dan simbol.");return}let e=yield this.loadingCtrl.create({message:"Sedang mendaftarkan...",spinner:"crescent"});yield e.present();try{console.log("Attempting Firebase registration...");let t=yield C(x,this.email,this.password);yield k(t.user,{displayName:this.name}),yield e.dismiss(),console.log("Registration successful"),this.showToast("Registrasi berhasil!","success"),this.router.navigateByUrl("/dashboard",{replaceUrl:!0})}catch(t){yield e.dismiss(),console.error("Registration error:",t),this.showToast(this.getFirebaseErrorMessage(t.code))}})}handleGoogleRegister(){return m(this,null,function*(){console.log("Google register button clicked");let e=new P,t=yield this.loadingCtrl.create({message:"Login dengan Google...",spinner:"crescent"});yield t.present();try{console.log("Attempting Google registration..."),yield y(x,e),yield t.dismiss(),console.log("Google registration successful"),this.showToast("Login Google berhasil!","success"),this.router.navigateByUrl("/dashboard",{replaceUrl:!0})}catch(i){yield t.dismiss(),console.error("Google registration error:",i),this.showToast(this.getFirebaseErrorMessage(i.code))}})}getFirebaseErrorMessage(e){switch(e){case"auth/email-already-in-use":return"Email sudah terdaftar.";case"auth/invalid-email":return"Format email tidak valid.";case"auth/weak-password":return"Password terlalu lemah.";case"auth/popup-closed-by-user":return"Login Google dibatalkan.";default:return"Terjadi kesalahan. Coba lagi."}}};g.\u0275fac=function(t){return new(t||g)(u(E),u(A),u(T))},g.\u0275cmp=M({type:g,selectors:[["app-register"]],viewQuery:function(t,i){if(t&1&&(f(G,5),f(j,5),f(L,5)),t&2){let r;h(r=b())&&(i.nameField=r.first),h(r=b())&&(i.emailField=r.first),h(r=b())&&(i.passwordField=r.first)}},decls:42,vars:0,consts:[["nameField",""],["emailField",""],["passwordField",""],["fullscreen","",1,"register-content"],[1,"register-container"],[1,"register-box"],[1,"logo-section"],[1,"logo-icon"],[1,"app-title"],[1,"app-subtitle"],[1,"register-form"],[1,"form-group"],[1,"input-label"],["type","text","placeholder","Masukkan nama lengkap Anda",1,"form-input",3,"input"],["type","email","placeholder","Masukkan email Anda",1,"form-input",3,"input"],[1,"password-input-wrapper"],["type","password","placeholder","Masukkan password Anda",1,"form-input",3,"input"],["type","button",1,"toggle-password-btn",3,"click"],["name","eye-outline"],["type","button",1,"btn-register",3,"click"],[1,"divider"],["type","button",1,"btn-google",3,"click"],["name","logo-google"],[1,"login-link"],["routerLink","/login"]],template:function(t,i){if(t&1){let r=O();n(0,"ion-content",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),a(5,"\u26A1"),o(),n(6,"h1",8),a(7,"Daftar Akun"),o(),n(8,"p",9),a(9,"Buat akun baru untuk mengakses Agnivolt"),o()(),n(10,"div",10)(11,"div",11)(12,"label",12),a(13,"Nama Lengkap"),o(),n(14,"input",13,0),d("input",function(p){return s(r),l(i.onNameChange(p))}),o()(),n(16,"div",11)(17,"label",12),a(18,"Email"),o(),n(19,"input",14,1),d("input",function(p){return s(r),l(i.onEmailChange(p))}),o()(),n(21,"div",11)(22,"label",12),a(23,"Password"),o(),n(24,"div",15)(25,"input",16,2),d("input",function(p){return s(r),l(i.onPasswordChange(p))}),o(),n(27,"button",17),d("click",function(){return s(r),l(i.togglePasswordVisibility())}),_(28,"ion-icon",18),o()()(),n(29,"button",19),d("click",function(){return s(r),l(i.handleRegister())}),a(30," Daftar "),o()(),n(31,"div",20)(32,"span"),a(33,"atau"),o()(),n(34,"button",21),d("click",function(){return s(r),l(i.handleGoogleRegister())}),_(35,"ion-icon",22),n(36,"span"),a(37,"Daftar dengan Google"),o()(),n(38,"p",23),a(39," Sudah punya akun? "),n(40,"a",24),a(41,"Masuk sekarang"),o()()()()()}},dependencies:[I,V,z,F,v,S,R],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_nghost-%COMP%]{display:block;height:100%}.register-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #4A90E2 0%, #3B3B98 100%);--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.register-container[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;align-items:center;justify-content:center;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.register-box[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;padding:30px 35px;width:100%;max-width:550px;animation:_ngcontent-%COMP%_fadeInUp .5s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.logo-icon[_ngcontent-%COMP%]{font-size:2.75rem;margin-bottom:8px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.app-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;margin-bottom:5px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.app-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#718096;line-height:1.4}.register-form[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:14px}.input-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#2d3748;margin-bottom:6px}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;font-size:.95rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;color:#2d3748;font-family:inherit;transition:all .3s ease;outline:none}.form-input[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.password-input-wrapper[_ngcontent-%COMP%]{position:relative}.toggle-password-btn[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;padding:8px;cursor:pointer;color:#718096;display:flex;align-items:center;justify-content:center;transition:color .2s ease}.toggle-password-btn[_ngcontent-%COMP%]:hover{color:#667eea}.toggle-password-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-register[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;cursor:pointer;font-family:inherit;transition:all .3s ease;box-shadow:0 4px 12px #667eea66;margin-top:8px}.btn-register[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.btn-register[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-register[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:16px 0;color:#a0aec0;font-size:.875rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 15px}.btn-google[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:.95rem;font-weight:600;color:#2d3748;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:10px;transition:all .3s ease}.btn-google[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.btn-google[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#ea4335}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:.9rem;color:#4a5568}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;font-weight:600;text-decoration:none;transition:color .2s ease}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}@media (min-width: 1024px){.register-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:40px 0}.register-box[_ngcontent-%COMP%]{width:100%;max-width:900px;padding:40px 55px;border-radius:20px;background:#fffffff2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 12px 40px #0003}.logo-section[_ngcontent-%COMP%]{margin-bottom:28px}}@media (max-width: 480px){.register-box[_ngcontent-%COMP%]{padding:28px 25px}.logo-icon[_ngcontent-%COMP%]{font-size:2.75rem}.app-title[_ngcontent-%COMP%]{font-size:1.65rem}.app-subtitle[_ngcontent-%COMP%]{font-size:.8rem}}']});let w=g;return w})();export{$ as RegisterPage};
